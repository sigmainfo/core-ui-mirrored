#= require environment
#= require templates/repositories/repository_select
<<<<<<< HEAD
=======
#= require templates/repositories/repository_select_dropdown
>>>>>>> ec81cf5f7a2780f81f9a52b959ba10a97a5ade37

class Coreon.Views.Repositories.RepositorySelectView extends Backbone.View
  
  id: "coreon-repository-select"

  template: Coreon.Templates["repositories/repository_select"]

<<<<<<< HEAD
  render: ->
    if session = @model.get("session")
      repository = session.currentRepository() or new Coreon.Views.Models.Repository
      single = session.get("repositories")?.length is 1
      @$el.html @template repository: repository, single: single
    else
      @$el.empty()
=======
  initialize: ->
    @listenTo @model, "change:current_repository_id change:repositories"

  render: ->
    @options.app.prompt null
    if repository = @model.currentRepository()
      @$el.html @template
        repository: repository
        single: @model.get("repositories")?.length is 1
>>>>>>> ec81cf5f7a2780f81f9a52b959ba10a97a5ade37
    @

